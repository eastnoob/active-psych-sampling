# ==============================================================================
# Configuration: Pure Continuous Parameters with Pure Residual Mean
# ==============================================================================
#
# Use Case: Continuous parameter space with BaseGP prior knowledge
# Mean Type: pure_residual (fixed BaseGP mean, 0 learnable parameters)
# Factory: CustomBaseGPResidualFactory (continuous only)
#
# Expected Performance: Best for small sample budgets (20-30 trials)
# ==============================================================================

[common]
lb = [0, 0, 0, 0, 0, 0]
ub = [1, 4, 4, 3, 2, 1]
parnames = [x0_dur, x1_freq, x2_intensity, x3_location, x4_texture, x5_pattern]
outcome_types = [single_probit]
strategy_names = [init_strat, opt_strat]
stimuli_per_trial = 1
n_params = 6

# Simulation target (optional, for testing)
target = 0.75

[init_strat]
# Initialization strategy: Sobol sampling
min_asks = 10
generator = SobolGenerator

[SobolGenerator]
stimuli_per_trial = 1
seed = 12345

[opt_strat]
# Optimization strategy: ModelWrapperStrategy with CustomBaseGPResidualFactory
min_asks = 20
generator = OptimizeAcqfGenerator
model = GPRegressionModel

[GPRegressionModel]
# Use custom residual learning factory
mean_covar_factory = CustomBaseGPResidualFactory
inducing_size = 10
inducing_point_method = auto

# Likelihood configuration
likelihood = ConfigurableGaussianLikelihood

[ConfigurableGaussianLikelihood]
# Fixed noise for probit responses
noise_prior = fixed
noise_value = 0.01

[CustomBaseGPResidualFactory]
# BaseGP mean configuration
basegp_scan_csv = extensions/example_data/design_space_scan.csv
mean_type = pure_residual

# Lengthscale prior (修正后的loc，让prior mode ≈ BaseGP lengthscales)
lengthscale_prior = lognormal
ls_loc = [0.0166, -0.2634, 0.7133, -1.4744, 0.7983, 0.6391]
ls_scale = [0.5, 0.5, 0.5, 0.5, 0.5, 0.5]

# Output scale prior
fixed_kernel_amplitude = False
outputscale_prior = gamma

[OptimizeAcqfGenerator]
# Acquisition function: Expected Improvement
acqf = qLogNoisyExpectedImprovement
stimuli_per_trial = 1
restarts = 10
samps = 1000

# ==============================================================================
# Notes:
# - This configuration is optimized for 30-trial budgets
# - pure_residual mean (0 params) is recommended for small samples
# - ls_loc values are corrected to match BaseGP lengthscales
# - For new experiments, generate design_space_scan.csv from BaseGP first
# ==============================================================================
