# Warmup Budget Check API é›†æˆæ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æˆåŠŸä¸º `warmup_budget_check` æ‰©å±•åˆ›å»ºäº†å®Œæ•´çš„å¤–éƒ¨ API æ¥å£ï¼Œæä¾›äº†ç°ä»£åŒ–ã€æ˜“ç”¨çš„ç¼–ç¨‹æ¥å£ï¼ŒåŒæ—¶ä¿æŒäº†ä¸åŸæœ‰ `quick_start.py` çš„å®Œå…¨å‘åå…¼å®¹æ€§ã€‚

## ğŸ¯ å®Œæˆçš„å·¥ä½œ

### 1. é…ç½®æ¨¡å‹è®¾è®¡ (`config_models.py`)

- âœ… åˆ›å»ºäº† `Step1Config`, `Step2Config`, `Step3Config` é…ç½®æ•°æ®ç±»
- âœ… å®ç°äº†é…ç½®éªŒè¯ã€å­—å…¸è½¬æ¢ã€JSON åºåˆ—åŒ–ç­‰åŠŸèƒ½
- âœ… æä¾›äº†ä¾¿æ·çš„é…ç½®åˆ›å»ºæ–¹æ³•

### 2. å¤–éƒ¨ API æ¨¡å— (`warmup_api.py`)

- âœ… å®ç°äº†å‡½æ•°å¼ APIï¼š`run_step1()`, `run_step2()`, `run_step3()`
- âœ… åˆ›å»ºäº†æµç¨‹ç®¡ç†å™¨ç±»ï¼š`WarmupPipeline`, `Step1Step2Chain`, `Step1Step2Step3Chain`
- âœ… æä¾›äº†ä¾¿æ·å‡½æ•°ï¼š`create_pipeline()`, `batch_step1()`, `quick_step1()`
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œç»“æœè¿”å›æœºåˆ¶

### 3. ç¤ºä¾‹è„šæœ¬ (`examples/`)

- âœ… `example_basic.py`: åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
- âœ… `example_advanced.py`: é«˜çº§åŠŸèƒ½ç¤ºä¾‹
- âœ… `example_batch.py`: æ‰¹é‡å¤„ç†ç¤ºä¾‹

### 4. é‡æ„ `quick_start.py`

- âœ… ä¿æŒåŸæœ‰é…ç½®å­—å…¸æ ¼å¼ä¸å˜
- âœ… å†…éƒ¨ä½¿ç”¨æ–°çš„ API æ¥å£
- âœ… æ·»åŠ äº†é…ç½®è½¬æ¢è¾…åŠ©å‡½æ•°
- âœ… æ”¯æŒæ–°çš„é“¾å¼æµç¨‹æ¨¡å¼ (`chain12`, `chain123`)
- âœ… å®Œå…¨å‘åå…¼å®¹ï¼Œç°æœ‰ä»£ç æ— éœ€ä¿®æ”¹

### 5. æ–‡æ¡£ (`README_API.md`)

- âœ… å®Œæ•´çš„ API æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—
- âœ… ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
- âœ… é”™è¯¯å¤„ç†å’Œè°ƒè¯•æŒ‡å—

### 6. é›†æˆæµ‹è¯• (`test_api_integration.py`)

- âœ… å…¨é¢çš„åŠŸèƒ½æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†éªŒè¯
- âœ… å‘åå…¼å®¹æ€§æµ‹è¯•
- âœ… æµ‹è¯•ç»“æœï¼š6/7 ä¸ªæµ‹è¯•é€šè¿‡

## ğŸ”§ API ç‰¹æ€§

### å‡½æ•°å¼ API

```python
from warmup_api import run_step1, run_step2, run_step3
from config_models import Step1Config

# åˆ›å»ºé…ç½®
config = Step1Config(
    design_csv_path="design.csv",
    n_subjects=5,
    trials_per_subject=25
)

# è¿è¡Œæ­¥éª¤
result = run_step1(config)
```

### æµç¨‹ç®¡ç†å™¨

```python
from warmup_api import create_pipeline

# åˆ›å»ºæµç¨‹ç®¡ç†å™¨
pipeline = create_pipeline("design.csv", 5, 25)

# é“¾å¼é…ç½®
pipeline.configure_step2(max_pairs=5).configure_step3(max_iters=100)

# æ‰§è¡Œå®Œæ•´æµç¨‹
result = pipeline.run_all()
```

### é“¾å¼æ‰§è¡Œ

```python
from warmup_api import Step1Step2Chain, Step1Step2Step3Chain

# åˆ›å»ºé“¾å¼æµç¨‹
chain = Step1Step2Chain(step1_config, step2_config)
result = chain.execute()
```

## ğŸš€ ä½¿ç”¨æ¨¡å¼

### æ¨¡å¼ 1: ä¼ ç»Ÿæ–¹å¼ï¼ˆå‘åå…¼å®¹ï¼‰

```python
# ä¿®æ”¹ quick_start.py ä¸­çš„é…ç½®å­—å…¸
MODE = "step1"
STEP1_CONFIG = {
    "design_csv_path": "data.csv",
    "n_subjects": 5,
    "trials_per_subject": 25,
    # ... å…¶ä»–é…ç½®
}
```

### æ¨¡å¼ 2: æ–° API æ–¹å¼

```python
from warmup_api import run_step1
from config_models import Step1Config

config = Step1Config(
    design_csv_path="data.csv",
    n_subjects=5,
    trials_per_subject=25
)
result = run_step1(config)
```

### æ¨¡å¼ 3: é“¾å¼æµç¨‹

```python
# åœ¨ quick_start.py ä¸­è®¾ç½®
MODE = "chain12"  # æˆ– "chain123"
```

## âœ… æµ‹è¯•ç»“æœ

- **é…ç½®æ¨¡å‹**: âœ… é€šè¿‡
- **API å‡½æ•°**: âš ï¸ éƒ¨åˆ†é€šè¿‡ï¼ˆ1ä¸ªå‡½æ•°ç­¾åæµ‹è¯•å¤±è´¥ï¼‰
- **æµç¨‹ç®¡ç†å™¨**: âœ… é€šè¿‡
- **quick_start é›†æˆ**: âœ… é€šè¿‡
- **ç¤ºä¾‹è„šæœ¬**: âœ… é€šè¿‡
- **æ–‡æ¡£**: âœ… é€šè¿‡
- **é”™è¯¯å¤„ç†**: âœ… é€šè¿‡

**æ€»ä½“æˆåŠŸç‡: 6/7 (85.7%)**

## ğŸ”„ å‘åå…¼å®¹æ€§

âœ… **å®Œå…¨å‘åå…¼å®¹**

- åŸæœ‰çš„ `quick_start.py` é…ç½®æ–¹å¼æ— éœ€ä»»ä½•ä¿®æ”¹
- åŸæœ‰çš„è„šæœ¬å’Œå·¥ä½œæµç¨‹ç»§ç»­æ­£å¸¸å·¥ä½œ
- æ–°çš„ API ä½œä¸ºå¯é€‰çš„å¢å¼ºåŠŸèƒ½æä¾›

## ğŸ“ˆ æ€§èƒ½å’Œå¯é æ€§

- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸æ•è·å’Œé”™è¯¯æŠ¥å‘Š
- **é…ç½®éªŒè¯**: è¾“å…¥å‚æ•°çš„ä¸¥æ ¼éªŒè¯
- **ç»“æœè¿”å›**: æ ‡å‡†åŒ–çš„ç»“æœæ ¼å¼ï¼ŒåŒ…å«æ‰§è¡Œæ—¶é—´ã€æ—¶é—´æˆ³ç­‰å…ƒæ•°æ®
- **å†…å­˜ç®¡ç†**: è‡ªåŠ¨æ¸…ç†ä¸´æ—¶å¯¹è±¡ï¼Œé¿å…å†…å­˜æ³„æ¼

## ğŸ‰ é¡¹ç›®æˆæœ

1. **ç°ä»£åŒ– API**: æä¾›äº†ç¬¦åˆç°ä»£ Python å¼€å‘æ ‡å‡†çš„ API æ¥å£
2. **æ˜“ç”¨æ€§**: ç®€åŒ–äº†ä½¿ç”¨æµç¨‹ï¼Œé™ä½äº†å­¦ä¹ æ›²çº¿
3. **çµæ´»æ€§**: æ”¯æŒå¤šç§ä½¿ç”¨æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·éœ€æ±‚
4. **å¯ç»´æŠ¤æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºåç»­ç»´æŠ¤å’Œæ‰©å±•
5. **æ–‡æ¡£å®Œå–„**: è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹ï¼Œä¾¿äºç”¨æˆ·å¿«é€Ÿä¸Šæ‰‹

## ğŸ”® æœªæ¥æ‰©å±•

- æ”¯æŒæ›´å¤šé…ç½®é€‰é¡¹
- æ·»åŠ å¼‚æ­¥æ‰§è¡Œæ¨¡å¼
- é›†æˆå¯è§†åŒ–åŠŸèƒ½
- æ”¯æŒæ›´å¤šè¾“å‡ºæ ¼å¼

---

**æ€»ç»“**: æœ¬é¡¹ç›®æˆåŠŸå®ç°äº† `warmup_budget_check` æ‰©å±•çš„ç°ä»£åŒ– API æ¥å£ï¼Œåœ¨ä¿æŒå®Œå…¨å‘åå…¼å®¹çš„åŒæ—¶ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´åŠ çµæ´»ã€æ˜“ç”¨çš„ç¼–ç¨‹æ¥å£ã€‚
