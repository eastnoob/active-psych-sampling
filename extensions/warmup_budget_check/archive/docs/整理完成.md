# 文件夹整理完成

## ✅ 整理结果

### 主目录（核心文件）

```
warmup_budget_check/
├── quick_start.py              # ⭐ 快速启动脚本（推荐使用）
├── warmup_sampler.py           # 步骤1：生成预热采样方案
├── analyze_phase1.py           # 步骤2：分析Phase 1数据
├── warmup_budget_estimator.py  # 预算评估工具（依赖）
├── phase1_analyzer.py          # 数据分析工具（依赖）
├── README.md                   # 主文档
├── README_STANDALONE.md        # 详细使用指南
├── QUICK_START_GUIDE.md        # 快速开始指南
└── archive/                    # 历史版本和测试文件
```

### archive目录（旧版本文件）

已移入archive的文件：
- 旧版脚本：quick_start_for_budget_check.py, two_phase_planner.py, run_full_pipeline.py, example_two_phase_workflow.py
- 备份文件：warmup_budget_estimator copy.py
- 旧版文档：README_TWO_PHASE.md, QUICKSTART.md, USAGE_GUIDE.md, COMPLETION_SUMMARY.md, 测试成功.txt
- 配置和测试：config_template.py, test_standalone_workflow.py
- 其他：plan/, __pycache__/

## 📖 使用方法

### 最简单的方式

1. **编辑 quick_start.py 中的配置参数**

```python
MODE = "step1"  # 选择运行模式

STEP1_CONFIG = {
    "design_csv_path": "design_space.csv",
    "n_subjects": 14,
    "trials_per_subject": 25,
    "skip_interaction": False,
    "output_dir": "sample",
    "merge": False,
}
```

2. **运行步骤1**

```bash
python quick_start.py
```

3. **执行实验，收集数据**

4. **修改配置，运行步骤2**

```python
MODE = "step2"

STEP2_CONFIG = {
    "data_csv_path": "warmup_data.csv",
    "phase2_n_subjects": 18,
    "phase2_trials_per_subject": 25,
}
```

```bash
python quick_start.py
```

### 分步运行方式

```bash
# 步骤1
python warmup_sampler.py

# 执行实验...

# 步骤2
python analyze_phase1.py
```

## 📚 文档说明

- **README.md** - 主文档，包含功能概述和快速开始
- **QUICK_START_GUIDE.md** - 快速开始指南，包含配置示例
- **README_STANDALONE.md** - 详细使用指南，包含完整工作流
- **archive/README.md** - 归档文件说明

## 🎯 核心功能

### Step 1: 预热采样生成
- 输入：设计空间CSV（只有自变量）
- 输出：subject_N.csv 采样方案文件
- 功能：预算评估 + 五步采样法

### Step 2: Phase 1数据分析
- 输入：实验数据CSV（包含响应列）
- 输出：Phase 2配置（JSON + NPZ）+ 分析报告
- 功能：交互对筛选 + λ/γ参数估计

## ✨ 主要改进

1. **简化使用** - 创建 quick_start.py，只需修改配置参数即可使用
2. **清晰结构** - 核心文件保留在主目录，旧版本移到archive
3. **完善文档** - 新增 QUICK_START_GUIDE.md，提供配置示例
4. **归档管理** - archive文件夹包含说明文档，便于查找历史版本

## 🔧 测试验证

所有核心功能已测试通过：
- ✅ 预算评估系统
- ✅ 采样文件生成（分文件/合并模式）
- ✅ Phase 1数据分析
- ✅ 交互对筛选（elbow方法）
- ✅ λ/γ参数估计
- ✅ Phase 2配置生成
- ✅ EUR-ANOVA参数对齐

## 📝 后续使用建议

1. **首次使用** - 阅读 QUICK_START_GUIDE.md
2. **详细了解** - 参考 README_STANDALONE.md
3. **Phase 2集成** - 查看生成的 PHASE2_USAGE_GUIDE.txt
4. **问题排查** - 查看 README.md 中的常见问题

## 🎉 完成！

文件夹已整理完毕，核心功能集中在主目录，历史版本归档在archive文件夹。
可以直接使用 quick_start.py 开始工作！
